var QL=QL||{};!function(a){function b(b,c){var d,e=this,f=b.find("."+c.picClass),g=b.find("."+c.numClass+" li"),h=b.find("."+c.dotClass+" li"),i=b.find("."+c.txtClass+" li"),j=b.find("."+c.linkClass+" li"),k=b.find("."+c.prevClass),l=b.find("."+c.nextClass),m=c.speed,n=!1;a.extend(this,{picInit:function(){f.css("width",e.getPic().TW+"px")},getPic:function(){var a=f.find("img").width(),b=f.find("li").length,c=a*b,d={W:a,L:b,TW:c};return d},dotMove:function(a){h.eq(a).addClass("active").siblings().removeClass("active")},txtMove:function(a){i.eq(a).show().siblings().hide()},linkMove:function(a){j.eq(a).show().siblings().hide()},picMove:function(a,b){n||(e.focusMove(b),e.dotMove(b),e.txtMove(b),e.linkMove(b),n=!0,f.animate({left:a+"px"},1e3,"easeOutExpo",function(){n=!1}))},focusMove:function(a){g.eq(a).addClass("active").siblings().removeClass("active")},moveFun:function(){var a=parseInt(f.css("left")),b=e.getPic().TW,c=e.getPic().W,d=a-c;Math.abs(a)==b-c&&(d=0);var g=Math.abs(a)/c;g++,g==e.getPic().L?g=0:"",e.picMove(d,g)},auto:function(){d=setInterval(e.moveFun,m)},stopAuto:function(){clearInterval(d)}}),g.hover(function(){var b=a(this),c=g.index(b),d=e.getPic().W;e.picInit(d);var h=-(d*c);f.stop(!0,!0),e.picMove(h,c),e.stopAuto()},function(){c.auto&&e.auto()}),h.hover(function(){var b=a(this),c=h.index(b),d=e.getPic().W;e.picInit(d);var g=-(d*c);f.stop(!0,!0),e.picMove(g,c),e.stopAuto()},function(){c.auto&&e.auto()}),k.click(function(){var a=parseInt(f.css("left")),b=e.getPic().TW,c=e.getPic().W,d=a+c;0==a&&(d=-(b-c));var g=Math.abs(a)/c;g--,0>g?g=e.getPic().L-1:"",f.is(":animated")||e.picMove(d,g)}),l.click(function(){e.moveFun()}),k.hover(function(){e.stopAuto()},function(){c.auto&&e.auto()}),l.hover(function(){e.stopAuto()},function(){c.auto&&e.auto()}),f.hover(function(){e.stopAuto()},function(){c.auto&&e.auto()}),this.picInit(),c.auto&&e.auto()}QL.hSlider={defaults:{picClass:"eye_pic",numClass:"eye_small",dotClass:"dotList",txtClass:"txtList",linkClass:"eye_link",prevClass:"prev",nextClass:"next",auto:!0,speed:3e3,showBtn:!0,showNum:!0,showDot:!0}},a.fn.hSlider=function(c){return c=a.extend({},QL.hSlider.defaults,c),this.each(function(){el=new b(a(this),c)})}}(jQuery);